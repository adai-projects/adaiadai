单例模式（Singleton）
===============================================================

## 接受

- 定义：指一个类只有一个实例，且该类能自行创建这个实例的一种模式。

- 意图：保证一个类仅有一个实例，并提供一个访问它的全局访问点。

- 主要解决：一个全局使用的类频繁地创建与销毁。

- 何时使用：当您想控制实例数目，节省系统资源的时候。

- 如何解决：判断系统是否已经有这个单例，如果有则返回，如果没有则创建。

- 关键代码：构造函数是私有的。

- 优点：

1.在内存里只有一个实例，减少了内存的开销，尤其是频繁的创建和销毁实例（比如管理学院首页页面缓存）。

2.避免对资源的多重占用（比如写文件操作）。

- 缺点：没有接口，不能继承，与单一职责原则冲突，一个类应该只关心内部逻辑，而不关心外面怎么样来实例化

使用场景：

1、要求生产唯一序列号。
2、WEB 中的计数器，不用每次刷新都在数据库里加一次，用单例先缓存起来。
3、创建的一个对象需要消耗的资源过多，比如 I/O 与数据库的连接等。
注意事项：getInstance() 方法中需要使用同步锁 synchronized (Singleton.class) 防止多线程同时进入造成 instance 被多次实例化。

实例:

Windows 中只能打开一个任务管理器，这样可以避免因打开多个任务管理器窗口而造成内存资源的浪费，或出现各个窗口显示内容的不一致等错误。

在计算机系统中，还有 Windows 的回收站、操作系统中的文件系统、多线程中的线程池、显卡的驱动程序对象、打印机的后台处理服务、应用程序的日志对象、数据库的连接池、网站的计数器、Web 应用的配置对象、应用程序中的对话框、系统中的缓存等常常被设计成单例。

## 特点

- 单例类只有一个实例对象；
- 该单例对象必须由单例类自行创建；
- 单例类对外提供一个访问该单例的全局访问点。

## 结构

单例模式的主要角色如下：
- 单例类：包含一个实例且能自行创建这个实例的类。
- 访问类：使用单例的类。

## 实现

### 懒汉式 线程不安全


### 懒汉式 线程安全

### 饿汉式

### 双检锁/双重校验锁（DCL，即 double-checked locking）

### 登记式/静态内部类

### 枚举

## 应用

## 场景

- 在应用场景中，某类只要求生成一个对象的时候，如一个班中的班长、每个人的身份证号等。
- 当对象需要被共享的场合。由于单例模式只允许创建一个对象，共享该对象可以节省内存，并加快对象访问速度。如 - -- Web 中的配置对象、数据库的连接池等。
- 当某类需要频繁实例化，而创建的对象又频繁被销毁的时候，如多线程的线程池、网络连接池等。

## 扩展

单例模式可扩展为有限的多例（Multitcm）模式，这种模式可生成有限个实例并保存在 ArmyList 中，客户需要时可随机获取
