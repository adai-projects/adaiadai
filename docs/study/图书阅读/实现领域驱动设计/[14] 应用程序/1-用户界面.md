用户界面
===============================================
> 如何将领域对象渲染到用户界面中？反之，如何将用户操作反映到领域模型上？


## 渲染领域对象

  用户界面通常需要渲染多个聚合实例的属性，尽管用户最终只会修改其中一个聚合实例。

## 渲染数据传输对象

- 数据传输对象（Data Tranfer Object, DTO）
- DTO组装器（DTOAssemble）

  在使用DTO时，我们的聚合设计需要考虑到DTO组装器对聚合数据的查询。
  ...

## 使用调停者发布聚合的内部状态

- 调停者模式[Gamma et al.]  
- 双分派（Double-Dispatch）
- 回调（Callback）

  聚合将通过调停者接口来发布内部状态。客户端将实现调停者接口，然后把实现对象的引用作为参数传给聚合。

  诀窍：不要将调停者接口与任何显示规范绑定在一起，而是关注于对所感兴趣的聚合状态的渲染。

## 通过领域负载对象渲染聚合实例

- 领域负载对象（Domain Payload Object, DPO）
- 策略模式（Strategy）[Gamma et al.]

  DPO于DTO相似，但是它的优点时可以用于单虚拟机应用架构中。
  DPO中包含了对整个聚合实例的引用，而不是单独的属性。

  优点：简化了在不同逻辑层之间传输集群数据的过程。和DTO相比，DPO更容易设计，并且消耗更少的内存。
  在创建DPO之前，由于聚合实例必须读到内存中，因此之后在使用DPO时时，这些聚合实例已经存在了。

  缺点，由于DPO和DTO相似，它需要聚合提供一些方法以读取聚合的状态。
  为了避免用户界面和模型之间的紧耦合，我们可能还需要使用调停者模式。

  延迟加载，

## 聚合实例的状态展示

- 视图模型（View Model）
- 展示模型（Presentation Model）

  我们应该基于用例来创建状态展现，而不是基于聚合实例。

  我们所创建的展示模型不应该与领域模型的聚合状态存在一一对应的关系。


## 用例优化资源查询

  我们可以在资源库中创建一些查询方法，这些方法返回的是所有聚合实例属性的超集。
  查询方法动态地将查询结果放在一个值对象中，该值对象是特别为当前用例设计的。

## 处理不同类型的客户端

  

## 渲染适配器以及处理用户编辑
