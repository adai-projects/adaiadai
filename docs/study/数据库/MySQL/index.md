# Index

## 1. 主键索引（Primary Key）
	特殊的唯一索引，不允许空值；
## 2. 唯一索引（Unique Key）
	唯一索引列的值必须唯一，但允许有空值。如果是组合索引，则列值的组合必须唯一
## 3. 普通索引

## 4. 组合索引

## 5. 全文索引


## 索引涉及原则

- 适合索引的列是出现在`where`子句的列，或者连接子句中指定的列；
- 基数较小的类，索引效果较差，没有必要再次建立索引；
- 使用段索引，如果对长字符串列进行索引，应该指定一个前缀长度，这样可以节省大量索引空间；
- 不要过度索引。

## 相关概念

**基数**

单个列唯一键的数量叫做基数

**回表**

当对一个列创建索引之后，索引会包含该列的键值及键值对应行所在的rowid。通过索引中记录的rowid访问表中的数据就叫回表。

回表次数太多会严重影响SQL性能，如果回表次数太多，就不应该走索引扫描，应该直接走全表扫描。

## 索引优化规则

-  如果MySQL估计使用索引比全表扫描还慢，则不会使用索引。
- 前导模糊查询不能命中索引。
- 数据类型出现隐式转换的时候不会命中索引，特别是当列类型是字符串，一定要将字符常量值用引号引起来。
- 复合索引的情况下，查询条件不包含索引列最左边部分（不满足最左原则），不会命中符合索引。最左原则并不是说是查询条件的顺序，而是查询条件中是否包含索引最左列字段。
- union、in、or都能够命中索引，建议使用in
- 用or分割开的条件，如果or前的条件中列有索引，而后面的列中没有索引，那么涉及到的索引都不会被用到，因为or后面的条件列中没有索引，那么后面的查询肯定要走全表扫描，在存在全表扫描的情况下，就没有必要多一次索引扫描增加IO访问。
- 负向条件查询不能使用索引，可以优化为in查询，负向条件有：!=、<>、not in、not exists、not like等。
- 范围条件查询可以命中索引。范围条件有：<、<=、>、>=、between等。
- 数据库执行计算不会命中索引。
- 利用覆盖索引进行查询，避免回表。
- 建立索引的列，不允许为null。
- 